<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT4-Shark Attack</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PreloadJS/1.0.1/preloadjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://unpkg.com/pixi.js@7.4.2/dist/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/PixiPlugin.min.js"></script>
    <script>
        // Wait for PIXI to be available before loading game scripts
        function loadGameScripts() {
            if (typeof PIXI !== 'undefined') {
                const scripts = [
                    'constants.js?v=2',
                    'utils.js?v=2',
                    'gameLevel.js?v=2',
                    'levels.js?v=2',
                    'score.js?v=2',
                    'imageLoader.js?v=2',
                    'brightnessFlash.js?v=2',
                    'waterSplashEffect.js?v=2',
                    'netEatingEffect.js?v=2',
                    'progressBar.js?v=2',
                    'octopus.js?v=2',
                    'sharkEatOctopus.js?v=2',
                    'shark.js?v=2',
                    'panels.js?v=2',
                    'bonusMessage.js?v=2',
                    'app.js?v=2'
                ];
                
                let loadedCount = 0;
                scripts.forEach((src, index) => {
                    const script = document.createElement('script');
                    script.src = src;
                    script.onload = () => {
                        loadedCount++;
                        console.log(`Loaded ${src} (${loadedCount}/${scripts.length})`);
                        if (loadedCount === scripts.length) {
                            console.log('All game scripts loaded - starting game initialization');
                            // Start the game after all scripts are loaded
                            if (typeof startGame === 'function') {
                                startGame();
                            }
                        }
                    };
                    document.head.appendChild(script);
                });
            } else {
                setTimeout(loadGameScripts, 100);
            }
        }
        
        loadGameScripts();
    </script>
    <style>
        @font-face {
            font-family: 'space-font';
            src: url('EndlessBossBattleRegular-v7Ey.ttf') format('truetype');
        }

        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: url(images/water.gif) no-repeat center center fixed;
            background-size: cover;
        }
        canvas {
            padding: 0;
            padding-left: 6px;
            padding-top: 6px;
            box-sizing: border-box;
            border: 10px solid darkkhaki;
            background-color: transparent;
        }
    </style>
</head>
<body>
</body>
</html>